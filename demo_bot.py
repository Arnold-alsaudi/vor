#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
KEVIN BOT - ุนุฑุถ ุชุฌุฑูุจู
ุนุฑุถ ุชุฌุฑูุจู ููุงุฌูุฉ ุงูุจูุช ูุฅููุงููุงุชู
"""

import asyncio
import sys
import os

# ุฅุถุงูุฉ ุงููุณุงุฑ ูููุญุฏุงุช ุงููุญููุฉ
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from reporter import ReportType

def print_banner():
    """ุทุจุงุนุฉ ุดุนุงุฑ ุงูุจูุช"""
    banner = """
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                              โ
โ    โโโ  โโโโโโโโโโโโโโ   โโโโโโโโโโ   โโโ    โโโโโโโ  โโโโโโโโโโโโโโโโ    โ
โ    โโโ โโโโโโโโโโโโโโโ   โโโโโโโโโโโ  โโโ    โโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ    โโโโโโโ โโโโโโ  โโโ   โโโโโโโโโโโโ โโโ    โโโโโโโโโโโ   โโโ   โโโ       โ
โ    โโโโโโโ โโโโโโ  โโโโ โโโโโโโโโโโโโโโโโ    โโโโโโโโโโโ   โโโ   โโโ       โ
โ    โโโ  โโโโโโโโโโโ โโโโโโโ โโโโโโ โโโโโโ    โโโโโโโโโโโโโโโโโ   โโโ       โ
โ    โโโ  โโโโโโโโโโโ  โโโโโ  โโโโโโ  โโโโโ    โโโโโโโ  โโโโโโโ    โโโ       โ
โ                                                              โ
โ                    ๐ค ุจูุช ุงูุจูุงุบุงุช ุงูุงุญุชุฑุงูู                    โ
โ                                                              โ
โ  ๐ก ูุธุงู ูุชูุฏู ูุฅุฑุณุงู ุงูุจูุงุบุงุช ุงูุญููููุฉ ุถุฏ ุงููููุงุช ุงููุฎุงููุฉ      โ
โ  ๐ ุขูู ููุญูู - ููุงุณุชุฎุฏุงู ุงููุณุคูู ููุท                         โ
โ  โก ูุทูุฑ ุจุงุณุชุฎุฏุงู Telethon                                   โ
โ                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    """
    print(banner)

def show_main_menu():
    """ุนุฑุถ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ"""
    print("\n๐๏ธ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ - KEVIN BOT")
    print("=" * 50)
    print("1๏ธโฃ ๐ก ุชุญุฏูุฏ ุงูููุงุฉ ุงููุณุชูุฏูุฉ")
    print("2๏ธโฃ ๐ค ุฅุถุงูุฉ ุญุณุงุจ ุฌุฏูุฏ")
    print("3๏ธโฃ ๐ ููุญุฉ ุงูุชุญูู")
    print("4๏ธโฃ โน๏ธ ุงููุณุงุนุฏุฉ")
    print("5๏ธโฃ ๐ช ุฎุฑูุฌ")

def show_report_types():
    """ุนุฑุถ ุฃููุงุน ุงูุจูุงุบุงุช ุงููุชุงุญุฉ"""
    print("\nโ๏ธ ุฃููุงุน ุงูุจูุงุบุงุช ุงููุชุงุญุฉ:")
    print("=" * 50)
    
    for i, (report_type, info) in enumerate(ReportType.REPORT_TYPES.items(), 1):
        print(f"{i}๏ธโฃ {info['emoji']} {info['name']}")
        print(f"   ๐ {info['description']}")
        print()

def show_dashboard():
    """ุนุฑุถ ููุญุฉ ุงูุชุญูู"""
    print("\n๐๏ธ ููุญุฉ ุงูุชุญูู - KEVIN BOT")
    print("=" * 50)
    print("๐ ุงูุญุงูุฉ ุงูุญุงููุฉ:")
    print("โข ุงูุญุณุงุจุงุช ุงููุดุทุฉ: 0")
    print("โข ุงูููุงุฉ ุงููุณุชูุฏูุฉ: ุบูุฑ ูุญุฏุฏุฉ")
    print("โข ููุน ุงูุจูุงุบ: ุบูุฑ ูุญุฏุฏ")
    print("โข ุนุฏุฏ ุงูุจูุงุบุงุช: ุบูุฑ ูุญุฏุฏ")
    print()
    print("๐ ุงูุฅุญุตุงุฆูุงุช:")
    print("โข ุฅุฌูุงูู ุงูุจูุงุบุงุช: 0")
    print("โข ุงูุจูุงุบุงุช ุงููุงุฌุญุฉ: 0")
    print("โข ุงูุจูุงุบุงุช ุงููุงุดูุฉ: 0")
    print("โข ูุนุฏู ุงููุฌุงุญ: 0.0%")

def show_help():
    """ุนุฑุถ ุงููุณุงุนุฏุฉ"""
    print("\n๐ค ุฏููู ุงุณุชุฎุฏุงู KEVIN BOT")
    print("=" * 50)
    print("ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ:")
    print("โข ุชุญุฏูุฏ ุงูููุงุฉ: ุฃุฏุฎู @channel_name ุฃู ุฑุงุจุท ุงูููุงุฉ")
    print("โข ุงุฎุชูุงุฑ ููุน ุงูุจูุงุบ: ุงุฎุชุฑ ุงูููุน ุงูููุงุณุจ ูููุญุชูู ุงููุฎุงูู")
    print("โข ูุชุงุจุฉ ุฑุณุงูุฉ ุงูุจูุงุบ: ุงูุชุจ ูุตู ูุงุถุญ ูููุฎุงููุฉ")
    print("โข ุชุญุฏูุฏ ุนุฏุฏ ุงูุจูุงุบุงุช: ุฃุฏุฎู ุงูุนุฏุฏ ุงููุทููุจ")
    print("โข ุชุญุฏูุฏ ุงูููุช: ุฃุฏุฎู ุงูููุช ุจุงูุซูุงูู ุจูู ุงูุจูุงุบุงุช")
    print()
    print("ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู:")
    print("1๏ธโฃ ุงุถุบุท ุนูู 'ุชุญุฏูุฏ ุงูููุงุฉ ุงููุณุชูุฏูุฉ'")
    print("2๏ธโฃ ุฃุฏุฎู ุฑุงุจุท ุฃู ููุฒุฑ ุงูููุงุฉ")
    print("3๏ธโฃ ุงุฎุชุฑ ููุน ุงูุจูุงุบ ุงูููุงุณุจ")
    print("4๏ธโฃ ุงูุชุจ ุฑุณุงูุฉ ุงูุจูุงุบ")
    print("5๏ธโฃ ุญุฏุฏ ุนุฏุฏ ุงูุจูุงุบุงุช ูุงูููุช ุจูููุง")
    print("6๏ธโฃ ุงุจุฏุฃ ุชูููุฐ ุงูุจูุงุบุงุช")
    print()
    print("โ๏ธ ุชุญุฐูุฑ ููู:")
    print("ุงุณุชุฎุฏู ุงูุจูุช ููุท ุถุฏ ุงููููุงุช ุงูุชู ุชูุชูู ููุงููู ุชููุฌุฑุงู ุจูุถูุญ")

def simulate_channel_setup():
    """ูุญุงูุงุฉ ุฅุนุฏุงุฏ ุงูููุงุฉ"""
    print("\n๐ก ุชุญุฏูุฏ ุงูููุงุฉ ุงููุณุชูุฏูุฉ")
    print("=" * 50)
    print("ุฃุฑุณู ุฑุงุจุท ุฃู ููุฒุฑ ุงูููุงุฉ ุงูุชู ุชุฑูุฏ ุงูุฅุจูุงุบ ุนููุง")
    print()
    print("ุฃูุซูุฉ ุตุญูุญุฉ:")
    print("โข @spam_channel")
    print("โข https://t.me/spam_channel")
    print("โข spam_channel")
    print()
    
    channel = input("๐ ุฃุฏุฎู ุงูููุงุฉ (ุฃู ุงุถุบุท Enter ููุชุฎุทู): ").strip()
    
    if channel:
        # ุชูุธูู ุฑุงุจุท ุงูููุงุฉ
        if channel.startswith('https://t.me/'):
            channel = channel.replace('https://t.me/', '@')
        elif not channel.startswith('@'):
            channel = '@' + channel
        
        print(f"โ ุชู ุชุญุฏูุฏ ุงูููุงุฉ: {channel}")
        return channel
    else:
        print("โญ๏ธ ุชู ุชุฎุทู ุชุญุฏูุฏ ุงูููุงุฉ")
        return None

def simulate_report_setup(channel):
    """ูุญุงูุงุฉ ุฅุนุฏุงุฏ ุงูุจูุงุบ"""
    if not channel:
        print("โ ูุฌุจ ุชุญุฏูุฏ ุงูููุงุฉ ุฃููุงู")
        return
    
    print(f"\nโ๏ธ ุฅุนุฏุงุฏ ุงูุจูุงุบ ููููุงุฉ: {channel}")
    print("=" * 50)
    
    # ุนุฑุถ ุฃููุงุน ุงูุจูุงุบุงุช
    show_report_types()
    
    try:
        choice = input("ุงุฎุชุฑ ุฑูู ููุน ุงูุจูุงุบ (ุฃู ุงุถุบุท Enter ููุชุฎุทู): ").strip()
        
        if choice and choice.isdigit():
            choice_num = int(choice)
            report_types = list(ReportType.REPORT_TYPES.items())
            
            if 1 <= choice_num <= len(report_types):
                report_type, info = report_types[choice_num - 1]
                print(f"โ ุชู ุงุฎุชูุงุฑ: {info['emoji']} {info['name']}")
                
                # ุทูุจ ุฑุณุงูุฉ ุงูุจูุงุบ
                message = input("\nโ๏ธ ุงูุชุจ ุฑุณุงูุฉ ุงูุจูุงุบ: ").strip()
                if message:
                    print(f"โ ุฑุณุงูุฉ ุงูุจูุงุบ: {message}")
                
                # ุทูุจ ุนุฏุฏ ุงูุจูุงุบุงุช
                count = input("๐ข ุนุฏุฏ ุงูุจูุงุบุงุช (ุงูุชุฑุงุถู: 5): ").strip()
                count = int(count) if count.isdigit() else 5
                print(f"โ ุนุฏุฏ ุงูุจูุงุบุงุช: {count}")
                
                # ุทูุจ ุงูููุช ุจูู ุงูุจูุงุบุงุช
                delay = input("โฑ๏ธ ุงูููุช ุจูู ุงูุจูุงุบุงุช ุจุงูุซูุงูู (ุงูุชุฑุงุถู: 30): ").strip()
                delay = int(delay) if delay.isdigit() else 30
                print(f"โ ุงูููุช ุจูู ุงูุจูุงุบุงุช: {delay} ุซุงููุฉ")
                
                print("\n๐ ููุฎุต ุงูุฅุนุฏุงุฏุงุช:")
                print(f"โข ุงูููุงุฉ: {channel}")
                print(f"โข ููุน ุงูุจูุงุบ: {info['emoji']} {info['name']}")
                print(f"โข ุงูุฑุณุงูุฉ: {message}")
                print(f"โข ุนุฏุฏ ุงูุจูุงุบุงุช: {count}")
                print(f"โข ุงูููุช ุจูู ุงูุจูุงุบุงุช: {delay} ุซุงููุฉ")
                
                print("\nโ๏ธ ูู ุงูุจูุช ุงูุญููููุ ุณูุชู ุชูููุฐ ุงูุจูุงุบุงุช ุงูุขู")
                
            else:
                print("โ ุงุฎุชูุงุฑ ุบูุฑ ุตุญูุญ")
        else:
            print("โญ๏ธ ุชู ุชุฎุทู ุฅุนุฏุงุฏ ุงูุจูุงุบ")
            
    except ValueError:
        print("โ ูุฑุฌู ุฅุฏุฎุงู ุฑูู ุตุญูุญ")

def main():
    """ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ ููุนุฑุถ ุงูุชุฌุฑูุจู"""
    print_banner()
    
    print("\n๐ญ ูุฑุญุจุงู ุจู ูู ุงูุนุฑุถ ุงูุชุฌุฑูุจู ูู KEVIN BOT")
    print("ูุฐุง ุนุฑุถ ุชุฌุฑูุจู ููุงุฌูุฉ ุงูุจูุช ูุฅููุงููุงุชู")
    print("=" * 60)
    
    channel = None
    
    while True:
        show_main_menu()
        
        try:
            choice = input("\n๐ฏ ุงุฎุชุฑ ุฑูู ุงูุฎูุงุฑ: ").strip()
            
            if choice == "1":
                channel = simulate_channel_setup()
            
            elif choice == "2":
                print("\n๐ค ุฅุถุงูุฉ ุญุณุงุจ ุฌุฏูุฏ")
                print("=" * 50)
                print("ูู ุงูุจูุช ุงูุญููููุ ุณุชููู ุจุฅุฑุณุงู session string ููุง")
                print("Session string ูู ูุต ุทููู ูุญุชูู ุนูู ูุนูููุงุช ุชุณุฌูู ุงูุฏุฎูู")
                print("ูููู ุงูุญุตูู ุนููู ุจุงุณุชุฎุฏุงู session_extractor.py")
            
            elif choice == "3":
                show_dashboard()
            
            elif choice == "4":
                show_help()
            
            elif choice == "5":
                print("\n๐ ุดูุฑุงู ูุงุณุชุฎุฏุงู KEVIN BOT!")
                break
            
            elif choice.lower() in ['setup', 'ุฅุนุฏุงุฏ'] and channel:
                simulate_report_setup(channel)
            
            else:
                print("โ ุงุฎุชูุงุฑ ุบูุฑ ุตุญูุญ. ุญุงูู ูุฑุฉ ุฃุฎุฑู.")
            
            input("\nโธ๏ธ ุงุถุบุท Enter ูููุชุงุจุนุฉ...")
            print("\n" + "="*60)
            
        except KeyboardInterrupt:
            print("\n\n๐ ุชู ุฅููุงุก ุงูุนุฑุถ ุงูุชุฌุฑูุจู")
            break
        except Exception as e:
            print(f"\nโ ุฎุทุฃ: {e}")

if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n๐ ูุฏุงุนุงู!")
    except Exception as e:
        print(f"โ ุฎุทุฃ ูุงุฏุญ: {e}")
        sys.exit(1)